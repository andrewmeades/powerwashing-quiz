<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Meades Restoration Quiz</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Meades Quiz">

    <script src="https://cdn.tailwindcss.com"></script>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { -webkit-tap-highlight-color: transparent; }
        .card-flip { transition: transform 0.6s; transform-style: preserve-3d; }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 h-screen overflow-hidden flex flex-col">

    <div id="root" class="h-full w-full"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONS (Inline SVGs to avoid dependencies) ---
        const IconCheck = () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" d="M5 13l4 4L19 7"/></svg>;
        const IconBrain = () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zM12 14a2 2 0 100-4 2 2 0 000 4z"/><path d="M12 14v7M12 2v4M2 12h4M18 12h4"/></svg>;
        const IconClock = () => <svg className="w-4 h-4" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>;

        // --- DATA: 30 Questions ---
        const INITIAL_QUESTIONS = [
            // SECTION 1: Physics of Failure
            {id: 1, type: 'open', question: 'Why does "Sacrificial Mortar" matter?', answer: 'Mortar must be softer/porous than brick to act as a wick/cushion.', explanation: 'If mortar is too hard (Portland), the brick takes the stress and spalls.'},
            {id: 2, type: 'open', question: 'What is "Oxide Jacking"?', answer: 'Expansion of rusting steel (6x-10x volume).', explanation: 'Exerts thousands of PSI, lifting walls and cracking lintels.'},
            {id: 3, type: 'tf', question: 'True/False: Ice exerts more pressure than Salt Crystallization.', answer: 'True (30k vs 14k PSI).', explanation: 'But salt is worse because it cycles daily with humidity, not just freeze/thaw.'},
            {id: 4, type: 'open', question: 'What is the "Fire Skin" on brick?', answer: 'Outer 1/16" vitrified clay from kiln firing.', explanation: 'Primary weatherproofing. Sandblasting destroys it.'},
            {id: 5, type: 'open', question: 'Delta T limit for thermal shock?', answer: '40°F - 50°F.', explanation: 'Hot wall + cold water = instant cracks.'},
            // SECTION 2: Chemistry
            {id: 6, type: 'open', question: 'Why did NMD 80 (HCl) fail on Rock Salt?', answer: 'Common Ion Effect.', explanation: 'Adding Chloride (HCl) to Chloride (NaCl) stops it from dissolving.'},
            {id: 7, type: 'open', question: 'Test for Calcium vs Salt?', answer: 'The Fizz Test (Acid).', explanation: 'Fizz = Calcium Carbonate. Wet/No Reaction = Salt.'},
            {id: 8, type: 'open', question: 'How does a Chelator work?', answer: 'It "claws" the ion so it can\'t re-bond.', explanation: 'Surrounds metal ions to allow rinsing.'},
            {id: 9, type: 'open', question: 'Risk of Phosphoric Acid on Limestone?', answer: 'Calcium Phosphate precipitate.', explanation: 'Creates a permanent white haze.'},
            {id: 10, type: 'open', question: 'Why no Bleach on Stone Bio-growth?', answer: 'Leaves salts; roots remain.', explanation: 'Salts attract water, promoting regrowth. Use QACs.'},
            // SECTION 3: Protocol
            {id: 11, type: 'open', question: 'GSA Pressure limit for historic granite?', answer: '<400 PSI (Low/Med).', explanation: 'High pressure injects water too deep.'},
            {id: 12, type: 'open', question: 'Danger of Hot Water in Freezing Temps?', answer: 'Evaporative Cooling / Flash Freezing.', explanation: 'Rapid evaporation super-cools the brick.'},
            {id: 13, type: 'open', question: 'Protocol for Deep Graffiti Shadow?', answer: 'Solvent + Poultice.', explanation: 'Poultice suction > Stone capillary pull.'},
            {id: 14, type: 'open', question: 'HCl vs Phosphoric Usage?', answer: 'HCl: Calcium/Mortar. Phosphoric: Rust/Aluminum.', explanation: 'Never swap them. HCl pits Alum; Phos hazes Masonry.'},
            {id: 15, type: 'open', question: 'Silane/Siloxane vs Sealer?', answer: 'Silane = Breathable. Sealer = Film/Trap.', explanation: 'Silanes line pores; Sealers plug them.'},
            // SECTION 4: Diagnostics
            {id: 16, type: 'mc', question: 'Bottom 2ft of wall crumbling. Cause?', options: ['Rising Damp', 'Splashback', 'Bad Mortar'], answer: 'Splashback Zone.', explanation: 'True rising damp is rare. Usually rain bounce.'},
            {id: 17, type: 'tf', question: 'True/False: pH scale is linear.', answer: 'False (Logarithmic).', explanation: 'pH 14 is 10 million times stronger than pH 7.'},
            {id: 18, type: 'open', question: 'UV degrades what in wood?', answer: 'Lignin (the glue).', explanation: 'Leaves grey cellulose fuzz.'},
            {id: 19, type: 'open', question: 'Alum rivets on Copper pipe corrosion?', answer: 'Galvanic Corrosion.', explanation: 'Dissimilar metals create a battery.'},
            {id: 20, type: 'mc', question: 'Safe media for historic crust (Mohs 3)?', options: ['Alum Oxide', 'Walnut Shells', 'Sand'], answer: 'Walnut Shells.', explanation: 'Must be softer than the brick.'},
            // SECTION 5: Chemistry II
            {id: 21, type: 'mc', question: 'Brighten Alum trailer safely?', options: ['HCl', 'Caustic', 'Phosphoric'], answer: 'Phosphoric (Clean Sweep).', explanation: 'Removes oxidation without pitting.'},
            {id: 22, type: 'tf', question: 'True/False: Fix White Scum with more Stripper?', answer: 'False.', explanation: 'Scum is a salt. Needs Acid to neutralize.'},
            {id: 23, type: 'open', question: 'Cure for "Ghosting" in pore?', answer: 'Poultice.', explanation: 'Physical vacuuming of pigment.'},
            {id: 24, type: 'mc', question: 'Risk of painting over salt-cleaned wall?', options: ['Adhesion', 'Subflorescence', ' pH'], answer: 'Subflorescence.', explanation: 'Salt pops the paint off.'},
            {id: 25, type: 'tf', question: 'True/False: Seal immediately after wash.', answer: 'False.', explanation: 'Traps moisture (Blushing/Spalling).'},
            // SECTION 6: Safety
            {id: 26, type: 'open', question: 'Pre-1978 paint assumption?', answer: 'Lead.', explanation: 'EPA RRP Rule.'},
            {id: 27, type: 'mc', question: 'Danger of dry scraping Guano?', options: ['Smell', 'Histoplasmosis'], answer: 'Histoplasmosis.', explanation: 'Fungal spores in lungs.'},
            {id: 28, type: 'open', question: 'Respirator band color for Solvents?', answer: 'Black (Organic Vapor).', explanation: 'N95 does nothing for fumes.'},
            {id: 29, type: 'mc', question: 'Dew Point Boundary danger?', answer: 'Insulating interior.', explanation: 'Freezes wall from inside out.'},
            {id: 30, type: 'tf', question: 'True/False: Caulk weep holes?', answer: 'False.', explanation: 'Traps water, rots wall.'}
            ,
            \{
        "id": 31, 
        "type": "mc", 
        "question": "Which solvent is best for removing a silicone-based sealer?", 
        "options": ["Water", "Xylene", "Mineral Spirits", "Digesters"], 
        "answer": "Mineral Spirits (or Naphtha)", 
        "explanation": "Silicone is non-polar. You need a non-polar solvent. Xylene is often too hot (evaporates too fast); Mineral Spirits has the dwell time needed to swell the silicone."
    },
    {
        "id": 32, 
        "type": "tf", 
        "question": "True or False: You should wet a wall before applying an acidic cleaner.", 
        "answer": "True", 
        "explanation": "Pre-wetting fills the pores with water, preventing the acid from soaking deep into the brick where it can't be rinsed out. It forces the chemical to stay on the surface."
    },
    {
        "id": 33, 
        "type": "open", 
        "question": "What is the 'Dwell Time' rule for enzymatic cleaners?", 
        "answer": "They must stay wet and warm.", 
        "explanation": "Enzymes are living proteins. If they dry out or freeze, they stop working. They often need 15-45 minutes of wet contact to digest the oil/starch."
    },
    {
        "id": 34, 
        "type": "mc", 
        "question": "What creates 'Green Vanadium Staining' on white brick?", 
        "options": ["Algae", "Copper oxide", "Acid reacting with Vanadium salts", "Grass stains"], 
        "answer": "Acid reacting with Vanadium salts", 
        "explanation": "Many white/buff bricks contain Vanadium. Cleaning them with Hydrochloric acid turns the salts green. You must use a specialized cleaner (like citric) or neutralize immediately."
    },
    {
        "id": 35, 
        "type": "open", 
        "question": "Why is 'run-down' a danger when cleaning windows above masonry?", 
        "answer": "Chemical etching.", 
        "explanation": "Window cleaners (often HF or strong acids) that drip onto the limestone sill below will etch permanent streaks into the stone."
    },
    {
        "id": 36, 
        "type": "tf", 
        "question": "True or False: A 40-degree nozzle concentrates pressure more than a 15-degree nozzle.", 
        "answer": "False", 
        "explanation": "The smaller the angle (15 degree), the smaller the area, and the higher the impact force (PSI) on that specific spot."
    },
    {
        "id": 37, 
        "type": "open", 
        "question": "What is 'Laitance' on new concrete?", 
        "answer": "The weak, milky layer of cement dust on the surface.", 
        "explanation": "It creates a false bond. If you paint over laitance, the paint sticks to the dust, not the concrete, and will peel off."
    },
    {
        "id": 38, 
        "type": "mc", 
        "question": "Which surfactant charge is best for general dirt/grease removal?", 
        "options": ["Cationic", "Anionic", "Non-ionic"], 
        "answer": "Anionic (Negative Charge)", 
        "explanation": "Most dirt/surfaces are slightly negative, but anionic surfactants lift particulate matter effectively via repulsion and suspension. (Dish soap is anionic)."
    },
    {
        "id": 39, 
        "type": "open", 
        "question": "Why use 'Hot Water' for oil stains (First Principles)?", 
        "answer": "Lowers viscosity and increases reaction rate.", 
        "explanation": "Heat excites the oil molecules, making them flow easier (viscosity drops), and doubles the chemical reaction speed for every 10°C increase."
    },
    {
        "id": 40, 
        "type": "tf", 
        "question": "True or False: You can use a zero-degree (red tip) nozzle on wood if you stand far back.", 
        "answer": "False (Protocol Violation).", 
        "explanation": "The risk of human error is too high. A momentary step forward will gouge the wood instantly. Use a fan tip or turbo nozzle."
    },
    {
        "id": 41, 
        "type": "open", 
        "question": "What is the primary ingredient in 'Rust Remover' (like F9 BARC)?", 
        "answer": "Phosphoric or Oxalic Acid.", 
        "explanation": "These acids reduce Iron Oxide (Rust) into a soluble iron salt that can be rinsed away."
    },
    {
        "id": 42, 
        "type": "mc", 
        "question": "If you mix Bleach (SH) and Ammonia, what gas is produced?", 
        "options": ["Chlorine Gas", "Mustard Gas", "Chloramine Gas", "Oxygen"], 
        "answer": "Chloramine Gas", 
        "explanation": "Highly toxic. Never mix different cleaning chemicals. Ammonia is found in glass cleaners and urine."
    },
    {
        "id": 43, 
        "type": "open", 
        "question": "Why does 'Shadowing' occur after pressure washing concrete?", 
        "answer": "Inconsistent gun distance or speed.", 
        "explanation": "If the nozzle is 2 inches from the surface, then 4 inches, the cleaning power drops by 4x (Inverse Square Law), leaving dirty stripes."
    },
    {
        "id": 44, 
        "type": "tf", 
        "question": "True or False: Soda Blasting generates heat that can warp metal.", 
        "answer": "False", 
        "explanation": "Soda blasting is unique because the soda particle explodes on impact, absorbing energy (endothermic), which actually cools the surface. Great for thin sheet metal."
    },
    {
        "id": 45, 
        "type": "open", 
        "question": "What is the 'Water Hardness' impact on detergents?", 
        "answer": "Minerals (Ca/Mg) consume the soap.", 
        "explanation": "The soap binds to the minerals instead of the dirt. You need to use more soap or add a water softener to 'chelate' the minerals first."
    }
            ,
            [
  {
    "id": 99,
    "type": "mc",
    "question": "What is the primary risk of using Sodium Hydroxide (standard degreaser) on an Aluminum Diamond Plate floor?",
    "options": [
      "It causes flash rusting.",
      "It causes Caustic Embrittlement and white oxidation.",
      "It makes the floor too slippery.",
      "It neutralizes the protective oxide layer instantly."
    ],
    "answer": "It causes Caustic Embrittlement and white oxidation.",
    "explanation": "Aluminum is an amphoteric metal that reacts violently with high-pH caustics like Lye (Sodium Hydroxide), dissolving the metal and forming Aluminum Hydroxide (white corrosion)."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Why is Sodium Metasilicate the preferred degreaser for Aluminum surfaces?",
    "options": [
      "It has a neutral pH.",
      "It contains silicates that form a mono-molecular protective barrier.",
      "It is an acid-based degreaser.",
      "It evaporates faster than Hydroxide."
    ],
    "answer": "It contains silicates that form a mono-molecular protective barrier.",
    "explanation": "Sodium Metasilicate provides high alkalinity (~pH 12.5) for cleaning, but the silicate moiety binds to the aluminum surface, preventing the hydroxide ions from eating the metal."
  },
  {
    "id": 99,
    "type": "tf",
    "question": "True or False: The 'white cloudy' appearance on damaged aluminum is known as Aluminum Oxide.",
    "answer": "False",
    "explanation": "While Aluminum Oxide is the natural protective layer, the thick white corrosion from chemical burns is typically Aluminum Hydroxide (Al(OH)3), also known as 'White Rust'."
  },
  {
    "id": 99,
    "type": "open",
    "question": "What two chemical components make up Sodium Percarbonate?",
    "answer": "Sodium Carbonate and Hydrogen Peroxide",
    "explanation": "Sodium Percarbonate is an adduct of Sodium Carbonate (Soda Ash) and Hydrogen Peroxide. When wet, it splits into a detergent and an oxygen-based oxidizer."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Why should you use Amine Oxide surfactants (like Elemonator) with Sodium Percarbonate?",
    "options": [
      "They are cheaper.",
      "They are 'Bleach Stable' (Oxidizer Stable).",
      "They create more foam.",
      "They lower the pH."
    ],
    "answer": "They are 'Bleach Stable' (Oxidizer Stable).",
    "explanation": "Standard dish soaps can break down or curdle in the presence of strong oxidizers. Amine Oxides are chemically stable and won't degrade the cleaning agent."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What is the chemical mechanism called when an alkaline cleaner turns fats into soap?",
    "options": [
      "Oxidation",
      "Hydrolysis",
      "Saponification",
      "Chelation"
    ],
    "answer": "Saponification",
    "explanation": "Saponification is the hydrolysis of an ester (fat/lipid) under basic conditions to form an alcohol and the salt of a carboxylic acid (soap)."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "In a walk-in freezer, what is the most likely composition of 'scale' buildup?",
    "options": [
      "Calcium Carbonate (Hard Water)",
      "Calcium Phosphate (Dairy Stone)",
      "Iron Oxide (Rust)",
      "Silica"
    ],
    "answer": "Calcium Phosphate (Dairy Stone)",
    "explanation": "In food environments involving milk or protein mixes, the white scale is often 'Dairy Stone' (Calcium Phosphate), which requires acid to solubilize."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Why is Hydrochloric Acid (HCl) dangerous to use on Brass fittings?",
    "options": [
      "It causes surface staining.",
      "It triggers Dezincification.",
      "It reacts with the Copper to form green gas.",
      "It is too weak to clean them."
    ],
    "answer": "It triggers Dezincification.",
    "explanation": "HCl selectively leaches the Zinc out of the Copper-Zinc alloy (Brass), leaving behind a porous, weak copper sponge structurally compromised."
  },
  {
    "id": 99,
    "type": "open",
    "question": "What specific alloy is Brass made of?",
    "answer": "Copper and Zinc",
    "explanation": "Brass is an alloy of Copper and Zinc. Bronze is primarily Copper and Tin."
  },
  {
    "id": 99,
    "type": "tf",
    "question": "True or False: If a brass fitting turns pink after acid washing, it is a sign that it is clean and restored.",
    "answer": "False",
    "explanation": "A pink color on Brass indicates that the Zinc has been destroyed/removed, leaving raw porous copper. This is structural damage, often called 'The Pink Death'."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Which acid is preferred for brightening Yellow Metals (Copper/Brass) safely?",
    "options": [
      "Hydrochloric Acid",
      "Sulfuric Acid",
      "Phosphoric Acid",
      "Hydrofluoric Acid"
    ],
    "answer": "Phosphoric Acid",
    "explanation": "Phosphoric acid removes oxides without aggressively leaching zinc. It also leaves a thin phosphate layer that provides temporary corrosion resistance."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What is the active ingredient in 'One Restore' that makes it risky for brass?",
    "options": [
      "Citric Acid",
      "Hydrochloric Acid",
      "Phosphoric Acid",
      "Oxalic Acid"
    ],
    "answer": "Hydrochloric Acid",
    "explanation": "One Restore relies on Hydrochloric Acid (Muriatic) for its masonry cleaning power, which is exactly what causes dezincification in brass."
  },
  {
    "id": 99,
    "type": "open",
    "question": "Why does Hydrofluoric Acid (HF) work to remove 'cloudiness' from aluminum when other acids fail?",
    "answer": "It dissolves Silica and Aluminum Oxide",
    "explanation": "HF is one of the few acids capable of breaking the strong bonds in Silica and Aluminum Oxide, literally stripping the damaged surface layer of the metal."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Why is Hydrofluoric Acid called a 'Bone Seeker'?",
    "options": [
      "It burns through skin to the bone.",
      "The Fluoride ion binds to Calcium in the blood and bones.",
      "It makes bones brittle.",
      "It is derived from bone meal."
    ],
    "answer": "The Fluoride ion binds to Calcium in the blood and bones.",
    "explanation": "The Fluoride ion penetrates tissue and scavenges calcium ions (Ca2+) from the blood and bone matrix to form Calcium Fluoride, leading to hypocalcemia and cardiac arrest."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What is the MANDATORY antidote gel for Hydrofluoric Acid burns?",
    "options": [
      "Aloe Vera",
      "Calcium Gluconate",
      "Petroleum Jelly",
      "Magnesium Sulfate"
    ],
    "answer": "Calcium Gluconate",
    "explanation": "Calcium Gluconate provides a sacrificial source of calcium for the Fluoride ions to bind to, preventing them from stealing calcium from the victim's heart and bones."
  },
  {
    "id": 99,
    "type": "tf",
    "question": "True or False: You should rinse an ABF (Hydrofluoric Acid) spill with a standard Sodium-based neutralizer like Cleansol BC.",
    "answer": "False",
    "explanation": "Sodium-based neutralizers create Sodium Fluoride, which is soluble and highly toxic. You must use Calcium (Lime) to create Calcium Fluoride, which is insoluble and safe."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What is the chemical difference between Ammonium Bifluoride (ABF) and pure Hydrofluoric Acid?",
    "options": [
      "ABF is a base, HF is an acid.",
      "ABF is a salt crystal that forms HF when wet/acidified.",
      "ABF is weaker but has no fluoride ions.",
      "There is no difference."
    ],
    "answer": "ABF is a salt crystal that forms HF when wet/acidified.",
    "explanation": "ABF (NH4HF2) is a crystalline salt. It is 'buffered' and releases Hydrofluoric acid only when dissolved in water, usually with an acidic catalyst."
  },
  {
    "id": 99,
    "type": "open",
    "question": "What gas is produced if you accidentally mix Hydrochloric Acid (Muriatic) and Sodium Hypochlorite (Bleach)?",
    "answer": "Chlorine Gas",
    "explanation": "Mixing acid and bleach releases Chlorine Gas (Cl2), which turns into Hydrochloric Acid in the lungs (Mustard Gas effect)."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Why is it illegal to let ABF/HF rinse water enter a storm drain?",
    "options": [
      "It will corrode the concrete pipes.",
      "Fluoride is acutely toxic to aquatic life.",
      "It will clog the drain.",
      "It turns the water bright green."
    ],
    "answer": "Fluoride is acutely toxic to aquatic life.",
    "explanation": "Even at low concentrations, Fluoride ions are lethal to fish and aquatic ecosystems. Storm drains do not provide the soil/calcium neutralization that ground runoff does."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What creates the 'Showroom Shine' on aluminum?",
    "options": [
      "Chemical etching with HF.",
      "Mechanical polishing to level the surface.",
      "Application of clear coat.",
      "Using Phosphoric acid."
    ],
    "answer": "Mechanical polishing to level the surface.",
    "explanation": "Acids only clean or whiten (etch) aluminum. A mirror reflection requires mechanical abrasion (sanding/buffing) to smooth the metal surface to a microscopic level."
  },
  {
    "id": 99,
    "type": "tf",
    "question": "True or False: 'Pitting' in aluminum wheels can be filled in by using a strong acid wash.",
    "answer": "False",
    "explanation": "Pitting is the physical removal of metal. Acid cleans the inside of the pit (making it white/silver), but it cannot replace the missing metal to smooth the surface."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Why is 'Solvent' usage dangerous in a Walk-In Freezer?",
    "options": [
      "Solvents freeze at low temperatures.",
      "Solvents outgas and can taint food products.",
      "Solvents dissolve the metal walls.",
      "Solvents are not effective on cold surfaces."
    ],
    "answer": "Solvents outgas and can taint food products.",
    "explanation": "In a confined air-tight space like a freezer, volatile organic compounds (VOCs) from solvents linger and can be absorbed by fat-containing foods (butter, meat) stored nearby."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What reaction happens when you mix an Acid and a Base (Alkaline)?",
    "options": [
      "Saponification",
      "Exothermic Neutralization",
      "Oxidation",
      "Polymerization"
    ],
    "answer": "Exothermic Neutralization",
    "explanation": "Acid + Base -> Salt + Water + Heat. The 'Heat' (Exothermic reaction) can be intense enough to boil the water or cause splashes if mixed too quickly."
  },
  {
    "id": 99,
    "type": "open",
    "question": "If you see 'Distillates' or 'Naphtha' on an SDS, what class of cleaner is it?",
    "answer": "Solvent",
    "explanation": "Petroleum distillates, Naphtha, and Xylene are indicators of solvent-based cleaners, which dissolve oils/paints rather than saponifying or etching them."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Why does insulation on cold pipes often turn black?",
    "options": [
      "The rubber degrades into carbon.",
      "Mold growth due to condensation/insulation failure.",
      "Dust accumulation.",
      "Chemical reaction with Freon."
    ],
    "answer": "Mold growth due to condensation/insulation failure.",
    "explanation": "When insulation fails, the cold pipe sweats. This constant moisture allows molds like Cladosporium to colonize the porous foam surface."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What is the safest way to dispose of a small ABF spill on concrete?",
    "options": [
      "Wash it down the drain.",
      "Cover with Dry Lime (Calcium Carbonate).",
      "Cover with Sawdust.",
      "Spray bleach on it."
    ],
    "answer": "Cover with Dry Lime (Calcium Carbonate).",
    "explanation": "Lime neutralizes the acid and provides Calcium to bind the Fluoride into solid, insoluble Calcium Fluoride sludge."
  },
  {
    "id": 99,
    "type": "tf",
    "question": "True or False: You can verify if a product is solvent-free by checking if it has a strong chemical smell.",
    "answer": "True",
    "explanation": "While not 100% foolproof, solvents typically have high vapor pressures and distinct odors (paint thinner smell), whereas inorganic acids/bases are often odorless or smell only 'acrid'."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What happens if you leave 'naked' stripped copper without neutralizing it?",
    "options": [
      "It stays shiny forever.",
      "It flash oxidizes and turns brown/black.",
      "It melts.",
      "It turns green immediately."
    ],
    "answer": "It flash oxidizes and turns brown/black.",
    "explanation": "Stripping copper removes the passivation layer. The highly reactive raw metal reacts with oxygen in the air instantly (Flash Oxidation) unless neutralized or coated."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Why is 'Downstream Injection' safer for applying strong acids like ABF?",
    "options": [
      "It heats the chemical.",
      "It increases the pressure.",
      "It dilutes the chemical significantly (e.g., 20:1) before it hits the air.",
      "It prevents the chemical from touching water."
    ],
    "answer": "It dilutes the chemical significantly (e.g., 20:1) before it hits the air.",
    "explanation": "Downstreaming ensures the operator is only spraying a dilute mixture (<2%), reducing the risk of acute exposure compared to spraying concentrate from a pump sprayer."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What is the role of a 'Surfactant' in an acid cleaning mix?",
    "options": [
      "To neutralize the acid.",
      "To increase surface tension.",
      "To lower surface tension and increase 'wetting'.",
      "To change the color of the mix."
    ],
    "answer": "To lower surface tension and increase 'wetting'.",
    "explanation": "Surfactants (Surface Active Agents) reduce the surface tension of water, allowing the acid to spread evenly and penetrate micropores rather than beading up."
  },
  {
    "id": 99,
    "type": "open",
    "question": "What is the pH of Sodium Metasilicate solution (approximate)?",
    "answer": "12.5 to 13",
    "explanation": "Sodium Metasilicate creates a highly alkaline environment, similar to bleach or degreasers, but with the added benefit of silicate corrosion inhibition."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Why do plastic containers of ABF/HF become brittle over time?",
    "options": [
      "UV damage.",
      "The Fluoride ion attacks the polymer cross-links.",
      "Water evaporation.",
      "Heat generation."
    ],
    "answer": "The Fluoride ion attacks the polymer cross-links.",
    "explanation": "HF is aggressive even to many plastics. Over time, it can attack the polymer chains, causing the container to lose flexibility and crack (environmental stress cracking)."
  },
  {
    "id": 99,
    "type": "tf",
    "question": "True or False: Phosphoric acid acts as a 'Brightener' for aluminum.",
    "answer": "False",
    "explanation": "Phosphoric acid is a cleaner (removes organics/scale) but does not 'brighten' or whiten aluminum effectively. You need an etchant like HF/Sulfuric for brightening."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What is the primary danger of working with acids in a 'Confined Space' (like a truck tank or freezer)?",
    "options": [
      "Lack of light.",
      "Slip hazards.",
      "Inhalation of concentrated fumes/outgassing.",
      "Radioactive decay."
    ],
    "answer": "Inhalation of concentrated fumes/outgassing.",
    "explanation": "In confined spaces, fumes cannot dissipate. What might be a minor smell outdoors can become a lethal concentration (IDLH - Immediately Dangerous to Life or Health) indoors."
  },
  {
    "id": 99,
    "type": "open",
    "question": "What color does 'Pure Copper' turn when stripped by Hydrochloric Acid?",
    "answer": "Pink / Salmon",
    "explanation": "The natural color of unoxidized copper metal is a bright pink/salmon color. It only appears brown/bronze due to oxidation."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Why is 'Dry Lime' preferred over water for acid spill containment?",
    "options": [
      "Water spreads the hazardous footprint.",
      "Lime is cheaper.",
      "Water makes the acid stronger.",
      "Lime smells better."
    ],
    "answer": "Water spreads the hazardous footprint.",
    "explanation": "Adding water to a spill increases the volume of hazardous liquid you have to manage. Dry neutralization contains the spill to its original footprint and turns it solid."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Which metal component is the 'Anode' (sacrificial) in the Brass dezincification process?",
    "options": [
      "Copper",
      "Zinc",
      "Tin",
      "Iron"
    ],
    "answer": "Zinc",
    "explanation": "Zinc is more reactive (anodic) than Copper (cathodic). In the presence of an electrolyte (acid), the Zinc corrodes/dissolves to protect the Copper."
  },
  {
    "id": 99,
    "type": "tf",
    "question": "True or False: Saponification works effectively on Motor Oil.",
    "answer": "False",
    "explanation": "Saponification only works on fats/lipids (animal/veg). Motor oil is a petroleum hydrocarbon and cannot be turned into soap; it must be emulsified."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What is the purpose of 'Secondary Containment' for stored chemicals?",
    "options": [
      "To keep them organized.",
      "To capture leaks if the primary container fails.",
      "To keep them warm.",
      "To hide them from inspectors."
    ],
    "answer": "To capture leaks if the primary container fails.",
    "explanation": "Secondary containment (like a tote or bund) ensures that if the main bottle cracks or leaks, the chemical does not spread to the floor, drains, or other chemicals."
  },
  {
    "id": 99,
    "type": "open",
    "question": "What is the definition of 'First Principles' thinking in industrial cleaning?",
    "answer": "Breaking a problem down to basic chemical/physical truths rather than relying on brand names.",
    "explanation": "First Principles involves identifying the substrate, the soil, and the specific chemical mechanism (Saponification, Oxidation, Etching) needed to resolve it."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Why is 'Steam' (Thermal Hydrolysis) effective on food splatter?",
    "options": [
      "It melts the floor.",
      "Heat speeds up the breaking of chemical bonds (reaction rate).",
      "It adds pressure.",
      "It bleaches the stain."
    ],
    "answer": "Heat speeds up the breaking of chemical bonds (reaction rate).",
    "explanation": "According to Arrhenius equation concepts, increasing temperature exponentially increases the rate of chemical reaction (hydrolysis of proteins/fats)."
  },
  {
    "id": 99,
    "type": "tf",
    "question": "True or False: Using a 'Consumer Brand' degreaser is always safer than mixing raw chemicals.",
    "answer": "False",
    "explanation": "Consumer brands often contain unknown fillers or solvents that can damage specific substrates (like aluminum) or leave residues. Raw chemicals allow for precise, substrate-safe formulation."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What does 'Anhydrous' mean in the context of Sodium Metasilicate?",
    "options": [
      "Liquid form.",
      "Contains no water (Dry powder).",
      "Acidic.",
      "Explosive."
    ],
    "answer": "Contains no water (Dry powder).",
    "explanation": "Anhydrous means 'without water'. It indicates the most concentrated powder form of the chemical, which becomes active when water is added."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Why is Phosphoric Acid used in 'Naval Jelly' for rust removal?",
    "options": [
      "It is the strongest acid.",
      "It converts Iron Oxide (Rust) into Iron Phosphate.",
      "It dissolves the steel.",
      "It smells like jelly."
    ],
    "answer": "It converts Iron Oxide (Rust) into Iron Phosphate.",
    "explanation": "Phosphoric acid reacts with rust to form Iron Phosphate, a black, stable, passive layer that prevents further corrosion (Parkerizing)."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "If you apply ABF to a mirror-polished aluminum tank, what is the result?",
    "options": [
      "It gets shinier.",
      "It turns Matte White (dull).",
      "It turns Blue.",
      "Nothing happens."
    ],
    "answer": "It turns Matte White (dull).",
    "explanation": "ABF etches the surface microscopically. This scattering of light destroys the mirror reflection, resulting in a diffuse, matte white appearance."
  },
  {
    "id": 99,
    "type": "open",
    "question": "What is the 'Dwell Time' crucial for?",
    "answer": "Allowing the chemical reaction (saponification/oxidation) to complete before rinsing.",
    "explanation": "Chemicals need time to react. Rinsing too soon stops the reaction before the soil is broken down. Letting it dry stops the reaction and redeposits soil."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "Why is 'Agitation' (Scrubbing) important even with strong chemicals?",
    "options": [
      "It makes the work look harder.",
      "It physically disrupts the biofilm barrier allowing chemical penetration.",
      "It heats up the surface.",
      "It creates foam."
    ],
    "answer": "It physically disrupts the biofilm barrier allowing chemical penetration.",
    "explanation": "Biofilms and heavy soils form a physical crust. Agitation breaks this crust, ensuring the chemical agent can reach the substrate surface."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What is the safest order of mixing chemicals?",
    "options": [
      "Water into Powder.",
      "Powder/Acid into Water.",
      "Mix them all at once.",
      "It doesn't matter."
    ],
    "answer": "Powder/Acid into Water.",
    "explanation": "Always add chemical TO water. Adding water TO a concentrated chemical can cause immediate boiling/splashing (exothermic reaction) and chemical burns."
  },
  {
    "id": 99,
    "type": "tf",
    "question": "True or False: Calcium Gluconate works by neutralizing the acidity of HF.",
    "answer": "False",
    "explanation": "It does not neutralize the pH. It neutralizes the TOXICITY by providing calcium ions for the fluoride to bind with, sparing the body's own calcium."
  },
  {
    "id": 99,
    "type": "mc",
    "question": "What is 'Caustic Embrittlement'?",
    "options": [
      "When acids make plastic brittle.",
      "When alkalis penetrate metal grain boundaries causing cracking.",
      "When soaps dry out.",
      "When copper turns pink."
    ],
    "answer": "When alkalis penetrate metal grain boundaries causing cracking.",
    "explanation": "High pH agents can penetrate the microscopic grain structure of metals (like aluminum or steel boilers), causing them to crack and fail under stress."
  }
]
            // INSERT_HERE
        ];

        // --- LOGIC ---
        function App() {
            const [cards, setCards] = useState([]);
            const [currentCardIndex, setCurrentCardIndex] = useState(null);
            const [showAnswer, setShowAnswer] = useState(false);
            const [done, setDone] = useState(false);

            useEffect(() => {
                const saved = localStorage.getItem('meadesQuizV1');
                if (saved) {
                    processCards(JSON.parse(saved));
                } else {
                    const init = INITIAL_QUESTIONS.map(q => ({
                        ...q,
                        sm2: { reps: 0, interval: 0, ef: 2.5, next: new Date().toISOString() }
                    }));
                    processCards(init);
                }
            }, []);

            const processCards = (data) => {
                const now = new Date();
                const due = data.filter(c => new Date(c.sm2.next) <= now);
                setCards(data);
                if (due.length > 0) {
                    // Find actual index in main array
                    const idx = data.findIndex(c => new Date(c.sm2.next) <= now);
                    setCurrentCardIndex(idx);
                    setDone(false);
                } else {
                    setDone(true);
                }
            };

            const rate = (quality) => {
                const newCards = [...cards];
                const card = newCards[currentCardIndex];
                
                // SM-2 Algorithm simplified
                let { reps, interval, ef } = card.sm2;
                if (quality >= 3) {
                    if (reps === 0) interval = 1;
                    else if (reps === 1) interval = 6;
                    else interval = Math.round(interval * ef);
                    reps++;
                } else {
                    reps = 0;
                    interval = 1;
                }
                ef = ef + (0.1 - (5 - quality) * (0.08 + (5 - quality) * 0.02));
                if (ef < 1.3) ef = 1.3;

                const nextDate = new Date();
                nextDate.setDate(nextDate.getDate() + interval);
                
                newCards[currentCardIndex] = { 
                    ...card, 
                    sm2: { reps, interval, ef, next: nextDate.toISOString() } 
                };

                localStorage.setItem('meadesQuizV1', JSON.stringify(newCards));
                setCards(newCards);
                setShowAnswer(false);
                
                // Find next
                const nextIdx = newCards.findIndex(c => new Date(c.sm2.next) <= new Date());
                if (nextIdx !== -1) setCurrentCardIndex(nextIdx);
                else setDone(true);
            };

            if (!cards.length) return <div className="p-10 text-center">Loading...</div>;
            
            if (done) return (
                <div className="flex flex-col items-center justify-center h-full p-6 text-center">
                    <div className="bg-white p-8 rounded-2xl shadow-xl w-full max-w-sm">
                        <div className="text-green-500 mb-4 flex justify-center"><IconCheck /></div>
                        <h2 className="text-2xl font-bold mb-2">All Caught Up!</h2>
                        <p className="text-gray-500">No cards due for review.</p>
                        <button onClick={() => {if(confirm('Reset?')) {localStorage.removeItem('meadesQuizV1'); location.reload();}}} className="mt-8 text-xs text-red-400 underline">Reset All</button>
                    </div>
                </div>
            );

            const card = cards[currentCardIndex];
            const dueCount = cards.filter(c => new Date(c.sm2.next) <= new Date()).length;

            return (
                <div className="flex flex-col h-full bg-slate-100">
                    {/* Header */}
                    <div className="bg-white p-4 shadow-sm flex justify-between items-center z-10">
                        <div className="flex items-center gap-2 font-bold text-slate-700">
                            <IconBrain /> Meades Restoration
                        </div>
                        <span className="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full font-bold">{dueCount} Due</span>
                    </div>

                    {/* Card Container */}
                    <div className="flex-grow p-4 flex flex-col justify-center max-w-md mx-auto w-full">
                        <div className="bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col min-h-[400px]">
                            
                            {/* Question */}
                            <div className="p-6 flex-grow flex flex-col justify-center border-b border-slate-100">
                                <span className="text-xs font-bold text-slate-400 uppercase tracking-widest mb-2">
                                    {card.type === 'mc' ? 'Multiple Choice' : card.type === 'tf' ? 'True / False' : 'Recall'}
                                </span>
                                <h2 className="text-xl font-bold text-slate-800 mb-4">{card.question}</h2>
                                {card.options && !showAnswer && (
                                    <div className="space-y-2">
                                        {card.options.map((opt, i) => (
                                            <div key={i} className="p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-600">{opt}</div>
                                        ))}
                                    </div>
                                )}
                            </div>

                            {/* Answer */}
                            {showAnswer && (
                                <div className="bg-blue-50 p-6 border-t border-blue-100 animate-fade-in">
                                    <p className="text-lg font-bold text-slate-900 mb-2">{card.answer}</p>
                                    <p className="text-sm text-slate-600 leading-relaxed"><strong className="text-blue-800">Why:</strong> {card.explanation}</p>
                                </div>
                            )}

                            {/* Controls */}
                            <div className="bg-slate-50 p-4 border-t border-slate-200">
                                {!showAnswer ? (
                                    <button onClick={() => setShowAnswer(true)} className="w-full py-3 bg-blue-600 active:bg-blue-700 text-white font-bold rounded-xl shadow-lg transition-transform active:scale-95">
                                        Show Answer
                                    </button>
                                ) : (
                                    <div className="grid grid-cols-4 gap-2">
                                        <button onClick={() => rate(1)} className="py-3 bg-red-100 text-red-800 font-bold rounded-lg text-sm active:scale-95">Fail</button>
                                        <button onClick={() => rate(3)} className="py-3 bg-orange-100 text-orange-800 font-bold rounded-lg text-sm active:scale-95">Hard</button>
                                        <button onClick={() => rate(4)} className="py-3 bg-blue-100 text-blue-800 font-bold rounded-lg text-sm active:scale-95">Good</button>
                                        <button onClick={() => rate(5)} className="py-3 bg-green-100 text-green-800 font-bold rounded-lg text-sm active:scale-95">Easy</button>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
